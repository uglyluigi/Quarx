$colors: red, orange, yellow, blue;
$size: 20;

@mixin rainbow-shadow($colors, $offset: 0, $size: $size) {
  $len: length($colors);
  $outp: 0px 0px transparent;
  @for $i from 1 through $size {
    $ind: floor( max($i + $offset, 1) / $size * length($colors) ) % $len + 1;
    $col: nth($colors, $ind);
    $outp: #{$outp}, #{$i}px #{$i}px #{$col};
  }

  text-shadow: $outp;
}

body { margin: 0; background: #171717; }
h1 {
  position: absolute; left: 50%; top: 7.5%;
  transform: translate(-50%, -50%);
  margin: -#{$size/2}px 0 0;
  font-family: 'Roboto';
  font-weight: lighter;
  font-size: 15vh;
  color: white;
}

.animated {
  animation: animated-rainbow-shadow 1s infinite;
}

@keyframes animated-rainbow-shadow {
  @for $i from 0 to $size + 1 {
    #{$i / $size * 100}% {
      @include rainbow-shadow($colors, $i);
    }
  }
}